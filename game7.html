<!-- game.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yes or No Question Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Q-G</h1>
        <p id="question"></p>
        <div id="options"></div>
        <div id="response"></div>
    </div>
    <div id="fireworks-container">
        <div id="you-win"></div>
    </div>
    <div id="popup-container">
        <div id="popup-word"></div>
        <audio id="audio" src="song.mp3"></audio>
    </div>
    <script>
        var questions = [
            { 
                question: "I speak without a mouth and hear without ears.",
                options: ['A dream', 'An echo']
            },
            {
                question: "What has keys but can't open locks?",
                options: ['A type writer', 'a Piano']
            },
            {
                question: " The more you cut me, the bigger I grow. What am I?",
                options: ['Hole', 'Tree']
            },
            {
                question: "I can be cracked, made, told, and played. What am I?",
                options: ['Joke', 'Code']
            },
            {
                question: " What belongs to you but other people use it more than you do?",
                options: ['Your name', 'Your voicex']
            },
            {
                question: "What has a face and two hands but no arms or legs?",
                options: ['Clock', 'Mask']
            },
            {
                question: "The more you take, the more you leave behind. What am I?",
                options: ['Footprint', 'Memories']
            },
            {
                question: "I cry without eyes. Wherever I go, darkness follows me. What am I?",
                options: ['Cloud', 'Night']
            },
            {
                question: "What has keys but can't open locks and has space but no room?",
                options: ['Telescope', 'Computer_key']
            },
            {
                question: "Do you like MJ",
                options: ['Yes', 'No']
            },
        ];

        var currentQuestionIndex = 0;
        var questionCount = 0;

        function startGame() {
            displayQuestion();
        }

        function displayQuestion() {
            if (currentQuestionIndex < questions.length) {
                var currentQuestion = questions[currentQuestionIndex];
                document.getElementById('question').innerText = currentQuestion.question;
                document.getElementById('options').innerHTML = '';
                for (var i = 0; i < currentQuestion.options.length; i++) {
                    var button = document.createElement('button');
                    button.innerText = currentQuestion.options[i];
                    button.onclick = function(answer) {
                        return function() {
                            answerQuestion(answer);
                        };
                    }(currentQuestion.options[i]);

                    document.getElementById('options').appendChild(button);
                }

                questionCount++;
            } else {
                endGame();
            }

            if (questionCount === 10) {
                setTimeout(showPopupWord, 500); // Delayed pop-up after 2 seconds
            }
        }

        function answerQuestion(userAnswer) {
            if (currentQuestionIndex < questions.length) {
                var correctAnswer = questions[currentQuestionIndex].options[0];
                var response = userAnswer === correctAnswer ? "OKAYY!" : "OKAY?";
                document.getElementById('response').innerText = response;
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        function endGame() {
            document.getElementById('fireworks-container').style.display = 'flex';
            document.getElementById('you-win').style.fontSize = '48px';
            createFireworks();
        }

        function createFireworks() {
            var container = document.getElementById('fireworks-container');

            for (var i = 0; i < 100; i++) {
                var firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = Math.random() * window.innerWidth + 'px';
                container.appendChild(firework);
            }
        }

        function showPopupWord() {
            var popupContainer = document.getElementById('popup-container');
            var popupWord = document.getElementById('popup-word');
            var audio = document.getElementById('audio');

            var word = "Poi Pani edkada!";
            popupWord.innerText = word;

            popupContainer.style.display = 'block';
            audio.play();
        }

        window.onload = startGame;
    </script>
</body>
</html>
